# A Calligraphy Grid in ConTeXt/LMTX

This project is a generator of grids for medieval calligraphy practice in [\ConTeXt/LMTX](https://wiki.contextgarden.net/) and [\MetaPost](https://wiki.contextgarden.net/MetaPost).

## Files Included (if downloading from GitHub)

```{.execute}
exa -T --group-directories-first --sort=Name --git-ignore
```

## Basic Use

1. Get the module
   1. Option 1: Run `mtxrun --script install-modules --install pauta` to install the module from contextgarden.
   2. Option 2: Clone this repository: `git clone https://github.com/conradolandia/pauta.git`, or download as zip. Copy the `doc` and `tex` folders to your ConTeXt tree and rebuild your database with `context --generate`. You can find more details about the process [on the ConTeXt wiki](https://wiki.contextgarden.net/Modules#Installation).
   3. Option 3: Call context with the `--path` flag, and provide it with the path of this folder, i.e: `context --path=/home/user/pauta`.
   4. Option 4: Copy `t-pauta.mkxl` on the same directory as the file importing it.
2. Import the module with `\usemodule[pauta]`.
3. Invoke the `\Pauta` macro as many times as you want pages. Each invocation can have a different configuration. Each invocation will create a single page.
4. The data about the hand[^1] is autogenerated by the module and set in the header or in the footer, following the user configuration.

[^1]: This a way of saying the *font* in fancy calligraphic terms.
[^2]: Check out the [layout](https://wiki.contextgarden.net/Page_Layout) article in the wiki for more information about typesetting areas offered by ConTeXt.

## Generating the Example File

Just compile `doc/context/third/pauta/pauta-example.tex`. An example environment with several layouts and font setups is included in the file env-pauta.tex. This file is completely optional and can be ommited by commenting out or removing the 3^rd and 4^th lines, which import the environment and select a layout. You can create your own layout or use the default. I would personally recommend to use a custom layout, because the default margins of ConTeXt documents are usually pretty big, but do what works best for you.

## Configuration Parameters

All parameters are optional. Defaults provided by the module are as follows:

```tex
\Pauta[
  hand=, % Hand name. If not defined, will not show info on the left side of the top / bottom
  handInfo=, % Some extra info for the hand. If not defined, will not show info on the right side of the top / bottom
  infoPosition=bottom, % Where to show the extra info (top | bottom)
  infoLeft={\setup{pauta:content:leftmark}}, % If defined, will override autogenerated hand info on the left side of the bottom / top
  infoRight={\setup{pauta:content:rightmark}}, % If defined, will override autogenerated hand info on the right side of the bottom / top
  displayNibs=false, % Show nib-width marks (true | false)
  displayAngleMarks=false, % Display dotted guides for the nib angle (true | false)
  nibWidth=3mm, % Pen nib width (must include units, or it will default to big points)
  nibAngle=35, % Nib working angle in degrees
  ascenders=3, % Number of ascender lines (in nib widths)
  xHeight=4, % Number of x-height lines (in nib widths)
  descenders=3, % Number of descending lines (in nib widths)
  adjustment=0, % Sometimes it's necessary to adjust the height, because it can be longer than TextHeight. Still not sure why it happens but it happpens... a value of 1 or 2 should solve it.
  mainColor={s=.4}, % Main color (lines that separate sections)
  secondaryColor={s=.6}, % Secondary color (lines separated by a nib width)
  tertiaryColor={s=.8}, % Tertiary color (nib width marks on the left margin and dotted angle lines)
]
```

## Code Examples

### Example 1: Basic Usage

```tex
\usemodule[pauta]

\startdocument
\Pauta[
  hand={Carolingian},
  handInfo={Tours school, VIII\high{th} century},
  infoPosition=top,
  displayNibs=true,
  displayAngleMarks=true,
  nibWidth=3mm,
  ascenders=2,
  xHeight=3,
  descenders=2,
  adjustment=0,
  mainColor={s=.6},
  secondaryColor={s=.8},
  tertiaryColor={s=.8},
]
\stopdocument
```

### Example 2: Multiple Pauta Instances

```tex
\usemodule[pauta]

\startdocument
\Pauta[
 hand={Carolingian},
 handInfo={Tours school, VIII\high{th} century},
 infoPosition=top,
 displayNibs=true,
 displayAngleMarks=true,
 nibWidth=3mm,
 ascenders=2,
 xHeight=3,
 descenders=2,
 adjustment=0,
 mainColor={s=.5},
 secondaryColor={s=.6},
 tertiaryColor={s=.7},
]

% Overriding the top / bottom info:

\Pauta[
 infoLeft={An excercise in Visigothic script},
 infoRight={from an Spanish manuscript, VII\high{th} century},
 infoPosition=bottom,
 displayNibs=true,
 displayAngleMarks=false,
 nibWidth=2mm,
 ascenders=4,
 xHeight=3,
 descenders=4,
 adjustment=1,
 mainColor={s=.3},
 secondaryColor={s=.4},
 tertiaryColor={s=.5},
]
\stopdocument
```


